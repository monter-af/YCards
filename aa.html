<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Добавление на карту GeoJSON файла из Конструктора карт</title>
    <meta charset="utf-8">

    <style>
        html, body, .map {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.7.1.js"></script> -->
    <script src="https://api-maps.yandex.ru/2.1/?apikey=aba747f6-b17f-41b6-b603-844f2c6c603a&lang=ru_RU" type="text/javascript"></script>

    <script type="text/javascript">
        ymaps.ready(init);
        
        function init() {
            let cityColors = [
                {name: "г. Арсеньев",       color: "blue",   altcolor: "darkBlue"   },
                {name: "г. Артем",          color: "gray",   altcolor: "night"      },
                {name: "г. Большой Камень", color: "green",  altcolor: "darkGreen"  },
                {name: "г. Владивосток",    color: "orange", altcolor: "darkOrange" },
                {name: "г. Находка",        color: "black",  altcolor: "brown"      },
                {name: "г. Уссурийск",      color: "pink",   altcolor: "lightPink"  },
                {name: "п. Зима Южная",     color: "brown",  altcolor: "olive"      },
                {name: "п. Новый",          color: "yellow", altcolor: "lightBlue"  },
                {name: "п. Трудовое",       color: "violet", altcolor: "darkViolet" },

            ];
            var myMap = new ymaps.Map('map', {
                       center: [43.115542, 131.885494],
                       zoom: 4,
                    controls: ['zoomControl']
                }),
                objectManager = new ymaps.ObjectManager({
                    // Чтобы метки начали кластеризоваться, выставляем опцию.
                    clusterize: true,
                    // ObjectManager принимает те же опции, что и кластеризатор.
                    gridSize: 32,
                    clusterDisableClickZoom: true
                });
            myMap.controls.get('zoomControl').options.set({size: 'small'});
            objectManager.objects.options.set('preset', 'islands#greenDotIcon');
            objectManager.clusters.options.set('preset', 'islands#greenClusterIcons');
    
            // Добавляем объекты на карту.
            myMap.geoObjects.add(objectManager);

            $.ajax({
                url: "https://script.google.com/macros/s/AKfycbzy8WqeBuAprUxdnd3Y9m1Vr8xnbMCNrFpMXbIpN_yykVwi5KKkaLIrp4jLhN3-Mx5Q/exec",
                type: "GET",
            }).done(function(data) {
                objectManager.add(data);
            });
        };
    </script>
</head>
<body>
<div id="map" class="map"></div>
</body>
</html>
